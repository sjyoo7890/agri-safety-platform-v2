# PRD 개요 - 프로젝트 배경 및 시스템 아키텍처

## 1. 프로젝트 배경 및 목적

본 PRD는 '고위험 농작업 현장의 중대재해를 예방하고, 사고 발생 시 피해를 최소화하는 농업 안전관리 플랫폼'을 통합 관리하기 위한 웹 시스템의 제품 요구사항을 정의한다.

농업 현장은 고립되고 비정형적인 작업 환경으로 인해 추락, 끼임, 온열질환, 전기화재, 차량 전복, 농기계 충돌 등 6대 고위험 안전사고가 빈번히 발생하고 있다. 본 웹 관리 시스템은 IoT 센서, AI 예측 모델, 스마트 디바이스, 4D 안전교육 시뮬레이터 등을 통합적으로 관리하고 모니터링하는 중앙 허브 역할을 수행한다.

### 프로젝트 정보
| 항목 | 내용 |
|------|------|
| 프로젝트명 | 고위험 농작업 사고 예방을 위한 지능형 안전관리 플랫폼 개발 |
| 주관기관 | 세종대학교 산학협력단 |
| 공동기관 | (주)미래아이티, (주)로그인서광, (주)코탁스 |
| 총 기간 | 5년 (2026~2030), 2단계 |
| 1단계 | 2026~2028 (3년) - 기반 기술 개발 |
| 2단계 | 2029~2030 (2년) - 통합 및 실증 |

## 2. 시스템 범위

본 웹 관리 시스템의 범위:
- 농작업장 및 농작업자의 실시간 안전 상태 모니터링 대시보드
- 6대 사고유형별 AI 예측/판별 결과의 시각화 및 알림 관리
- 스마트 조끼, 응급키트 등 IoT 디바이스의 상태 관리 및 모니터링
- 동적 위험성평가(DRA) 기반 위험요인 추천 및 위험도 산출
- 사고 이력 관리 및 분석 리포트 생성
- 안전교육 콘텐츠 관리 및 교육 이수 현황 추적
- 농업인안전365 플랫폼 연계 API 관리
- 시스템 관리 (사용자, 농가, 장비 등록 및 설정)

## 3. 사용자 유형 (Persona)

| 사용자 유형 | 역할 | 주요 사용 기능 |
|------------|------|---------------|
| 시스템 관리자 | 전체 시스템 운영 및 관리 | 사용자 관리, 시스템 설정, 데이터 백업, API 관리 |
| 농장 관리자 | 소속 농장의 안전 관제 담당 | 실시간 대시보드, 위험 알림 확인, 작업자 관리, 리포트 조회 |
| 지자체/기관 관리자 | 관할 지역 농가 안전 현황 관제 | 지역별 통계 대시보드, 사고 이력 분석, 교육 현황 관리 |
| 안전교육 관리자 | 안전교육 콘텐츠 및 시뮬레이터 관리 | 교육 콘텐츠 등록, 교육 이수 현황, 교육 효과 분석 |
| 현장 작업자 | 모바일 웹을 통한 알림 수신 | 위험 알림 수신, 긴급 호출(E-Call), 개인 건강 상태 확인 |

## 4. 용어 정의

| 용어 | 정의 |
|------|------|
| 6대 고위험 사고유형 | 추락/넘어짐, 끼임/감김, 온열질환/질식, 전기화재, 차량 전도/전복, 농기계-작업자 충돌 |
| DRA | Dynamic Risk Assessment - 실시간 데이터 기반 동적 위험성평가 |
| 스마트 조끼 (Agri-Vest) | 모듈형 센서를 탈부착할 수 있는 작업자 착용형 안전 장비 |
| E-Call | 긴급 상황 시 자동으로 112/119 또는 보호자에게 위치 정보와 함께 알림을 전송하는 기능 |
| WBGT | Wet Bulb Globe Temperature - 습구흑구온도지수 (온열질환 판단 기준) |
| XAI | Explainable AI - 설명 가능한 인공지능 |
| PCM | Phase Change Material - 상변화물질 (쿨링 솔루션 기술) |
| TTC | Time To Collision - 충돌 예상 시간 |

## 5. 시스템 아키텍처

### 전체 계층 구성

| 계층 | 구성요소 | 기술 스택 |
|------|---------|-----------|
| 프론트엔드 | 관리자용 웹 대시보드, 작업자용 모바일 웹 | React.js, TypeScript, TailwindCSS, Recharts, Leaflet(GIS) |
| API Gateway | 인증/인가, 라우팅, 레이트 리밋 | Nginx, OAuth 2.0, JWT |
| 백엔드 서비스 | 사용자 관리, 데이터 수집, 위험 분석, 알림 발송, 교육 관리 | NestJS, Node.js |
| AI 엔진 | 6대 사고유형 예측/판별 모델, XAI 분석, LLM 결과 생성 | Python FastAPI, PyTorch, ONNX Runtime |
| 데이터 계층 | 시계열 DB, 관계형 DB, 캐시 | TimescaleDB, PostgreSQL, Redis |
| IoT 연동 | 센서 데이터 수집 게이트웨이 | MQTT Broker (Mosquitto) |
| 인프라 | 컨테이너화, 리버스 프록시 | Docker, Docker Compose, Nginx |

### 데이터 흐름 (5단계)

1. **수집**: IoT 센서(스마트 조끼, 환경센서, CCTV, 응급키트) → MQTT 브로커 → 백엔드 수집 서비스
2. **분석**: 수집 서비스 → AI 추론 엔진(실시간 예측/판별) → 동적 위험성평가 엔진 → 위험도 산출(0~100점)
3. **알림**: 위험 등급 판정(정상/주의/경고/위험) → 다채널 알림(SMS, 앱 푸시, 스마트 조끼, 경광등, E-Call)
4. **시각화**: 웹 대시보드 실시간 갱신(WebSocket) → 위험 히트맵, 작업자 상태, 센서 트렌드 차트 표시
5. **저장**: 시계열 DB(센서 로그), 관계형 DB(사고 이력, 사용자 정보), 파일 스토리지(CCTV 영상)

## 6. 참여기관별 역할

| 기관 | 담당 역할 | 웹 시스템 연동 포인트 |
|------|----------|---------------------|
| 세종대학교 산학협력단 (주관) | 6대 사고유형 AI 예측/분석 모델 개발 | AI 예측 결과 API 제공, XAI 분석 데이터, LLM 자연어 변환 결과 |
| (주)미래아이티 (공동) | 동적 위험성평가 및 AI 통합 안전관리 플랫폼 개발 | 웹 관리 시스템 주 개발, 데이터 파이프라인, Open API, 온톨로지/지식그래프 엔진 |
| (주)로그인서광 (공동) | 모듈형 스마트 조끼, 응급키트, 모니터링 시스템 개발 | IoT 디바이스 데이터 수집 API, 장비 상태 정보, 통합 관제 시스템 연동 |
| (주)코탁스 (공동) | VR 안전교육 콘텐츠, 4D 시뮬레이터 개발 | 교육 콘텐츠 메타데이터, 교육 이수 기록, 시뮬레이터 상태 데이터 연동 |

## 7. 개발 일정 (로드맵)

| 단계 | 기간 | 주요 개발 범위 |
|------|------|---------------|
| 1단계 1차년도 (2026) | 12개월 | 시스템 아키텍처 설계, DB 스키마 설계, 기본 대시보드 프로토타입, API 설계, 데이터 파이프라인 기초 구축 |
| 1단계 2차년도 (2027) | 12개월 | 데이터 수집/저장 파이프라인 개발, 관리자 대시보드 베타, 센서 모니터링 화면, 알림 시스템 기초 구현, 프로토타입 현장 테스트 |
| 1단계 3차년도 (2028) | 12개월 | 안전관리 지원 정보시스템 베타버전 완성, 동적 위험성평가 엔진 탑재, AI 예측 결과 연동, 작업자 모바일 웹 개발, 현장 적용 테스트 |
| 2단계 1차년도 (2029) | 12개월 | AI 통합 안전관리 플랫폼 개발 완성, Open API 제공, 교육 관리 모듈 개발, UX 고도화, 현장 실증 |
| 2단계 2차년도 (2030) | 12개월 | 플랫폼 안정화, 대규모 사용자 대응 최적화, 농업인안전365 연계, 보안 강화(ISO 27001), SaaS 모델 확정, 성과 확산 |
