# FR-WKR: 작업자 상세 모니터링

## 모듈 개요
개별 작업자의 생체신호, 자세/동작 상태, 작업 이력, 열 순응도를 상세하게 모니터링하는 화면. 대시보드의 작업자 카드를 클릭하면 진입한다.

## 접근 권한
- 시스템 관리자 / 농장 관리자: 소속 농장 작업자 조회
- 작업자 본인: 모바일 웹에서 자기 데이터 조회 (FR-MOB 연동)

## 기능 요구사항

| ID | 요구사항 | 우선순위 | 상세 설명 |
|----|---------|---------|----------|
| FR-WKR-001 | 작업자 프로필 카드 | 상 | 작업자 기본정보(이름, 연령, 열순응도), 착용 디바이스 상태, 현재 위험 등급을 카드 형태로 표시 |
| FR-WKR-002 | 생체신호 추이 차트 | 상 | 심박수, 체온의 시간별 변화를 라인 차트로 표시. 임계치 초과 시 색상 변경 및 경고 표시 |
| FR-WKR-003 | 자세/동작 상태 | 상 | 스마트 조끼 IMU 데이터 기반 작업자 자세(정상/위험자세/쓰러짐)를 아이콘으로 표시 |
| FR-WKR-004 | 작업 이력 타임라인 | 중 | 작업자의 일별 활동 이력(작업 시작/종료, 휴식, 위험 이벤트)을 타임라인으로 시각화 |
| FR-WKR-005 | 열 순응도 분석 | 중 | 7~14일간 노출 이력 분석 결과를 기반으로 개인별 열 순응도 등급 및 권장 작업 시간 표시 |

## 화면 구성 가이드

### 작업자 상세 모니터링 레이아웃
```
┌──────────────────────────────────────────────────────┐
│ ← 대시보드   작업자 상세 모니터링 - 홍길동             │
├───────────────┬──────────────────────────────────────┤
│ 프로필 카드    │  생체신호 추이 차트                    │
│ ┌───────────┐ │  ┌──────────────────────────────┐    │
│ │ 👤 홍길동  │ │  │ ❤ 심박수: --- 라인차트 ---   │    │
│ │ 67세/남    │ │  │   (임계치 100bpm 점선 표시)    │    │
│ │ 열순응: B  │ │  │ 🌡 체온: --- 라인차트 ---     │    │
│ │ 조끼: 정상 │ │  │   (임계치 38℃ 점선 표시)      │    │
│ │ 🟢 정상    │ │  └──────────────────────────────┘    │
│ └───────────┘ │                                       │
│               ├──────────────────────────────────────┤
│ 자세/동작 상태 │  작업 이력 타임라인                    │
│ ┌───────────┐ │  08:00 ■■■■■ 작업 (노지)              │
│ │ 🧍 정상자세│ │  10:30 ■■ 휴식                        │
│ │           │ │  10:50 ■■■■ 작업 (노지)               │
│ │ Roll: 2°  │ │  12:00 ■■■ 점심휴식                   │
│ │ Pitch: 5° │ │  13:00 ■■■■■■ 작업 (노지)             │
│ └───────────┘ │  🔴 14:32 위험 이벤트 - 추락 감지      │
├───────────────┴──────────────────────────────────────┤
│ 열 순응도 분석                                        │
│ 최근 14일 고온 노출 시간: 42시간 | 등급: B (부분 순응)  │
│ 권장 연속작업시간: 50분 | 권장 휴식: 15분 이상          │
└──────────────────────────────────────────────────────┘
```

## 관련 API
| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/api/v1/workers/{id}/status` | 작업자 실시간 상태 (생체신호, 위치, 위험등급) |
| GET | `/api/v1/workers/{id}/timeline` | 작업자 활동 타임라인 |
| GET | `/api/v1/workers/{id}/vitals?from=&to=` | 기간별 생체신호 이력 (차트 데이터) |
| GET | `/api/v1/workers/{id}/acclimatization` | 열 순응도 분석 결과 |
| GET | `/api/v1/workers/{id}/posture` | 현재 자세/동작 상태 |

## 기술 구현 힌트
- **생체신호 차트**: Recharts LineChart, 실시간 데이터는 WebSocket으로 push. 임계치 초과 영역에 빨간 ReferenceLine + 배경 쉐이딩
- **자세 시각화**: SVG 기반 간단한 사람 아이콘 + Roll/Pitch 각도 수치. 쓰러짐 감지 시 빨간 경고 애니메이션
- **타임라인**: 수평 바 차트 형태 (시간축 X). 작업/휴식/이벤트를 색상으로 구분
- **열 순응도**: A(완전순응)/B(부분순응)/C(미순응) 3등급. 14일간 고온 노출 누적 시간으로 산출
